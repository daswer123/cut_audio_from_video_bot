# Бот для извлечения аудио из видео

## Установка

1. Клонируйте репозиторий:
   ```bash
   https://github.com/daswer123/cut_audio_from_video_bot.git
   cd audio-extractor-bot
   ```

2. Создайте файл .env на основе примера:
```bash
   cp .env.example .env
```

3. Отредактируйте .env файл, заполнив необходимые данные (важны первые 4 параметра):
   - TELEGRAM_API_ID
   - TELEGRAM_API_HASH
   - TELEGRAM_LOCAL
   - TELEGRAM_TOKEN

4. Запустите бота в продакшн режиме:
   ```bash
   docker-compose up -d
   ```

   Или в режиме разработки (без необходимости ребилда при изменениях):
   ```bash
   docker-compose -f docker-compose.dev.yml up -d
   ```


Этот Telegram бот принимает видеофайлы от пользователей и возвращает извлеченное аудио в формате MP3, сжатое до 128kbps.

## Функциональность
- Принимает видеофайлы через Telegram
- Извлекает аудиодорожку с помощью FFmpeg
- Сжимает аудио до 128kbps в формате MP3
- Отправляет обработанное аудио обратно пользователю

## Использование
1. Запустите бота, отправив команду `/start`
2. Отправьте боту любой видеофайл
3. Дождитесь обработки (это может занять некоторое время)
4. Получите аудиофайл в формате MP3

# Особенности
Данный бот использует подход с локальным Bot API сервером, что позволяет обойти стандартные лимиты Telegram Bot API:

- **Проблема стандартного Bot API**: лимиты на скачивание (20 МБ) и отправку (50 МБ) файлов
- **Решение**: локальный сервер Bot API, который работает через MTProto и поддерживает файлы до 2 ГБ
- **Преимущества**: 
  - Простой код на Aiogram (стандартный Bot API)
  - Нет необходимости в сложной интеграции с User API
  - Вся инфраструктура запускается через Docker Compose

# Благодарность
Спасибо Olegt0rr за его работу
https://github.com/Olegt0rr/telegram-local